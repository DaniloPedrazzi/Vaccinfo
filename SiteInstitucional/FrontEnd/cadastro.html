<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/x-icon" href="./img/img-vaccinfo-favicon.ico">
  <link rel="stylesheet" href="css/style-cadastro.css" />
  <link rel="stylesheet" href="css/style.css" />
  <link href="https://fonts.googleapis.com/css?family=Montserrat:100" rel="stylesheet" />
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
  <title>VaccInfo | Cadastro</title>
</head>

<body>
  <div class="banner">

    <div class="container">

      <div class="box_externa">
        <div class="titulo">
          <h3>Cadastrar</h3>
        </div>

        <div class="box_interna">

          <div class="formularios">

            <div id="formulario_empresa" class="formulario">

              <h3>Informações da empresa</h3>

              <p>Nome: *</p>
              <input type="text" id="input_nome_empresa" />

              <p>CNPJ: *</p>
              <input type="text" id="input_cnpj" />

              <p>Email: *</p>
              <input type="email" id="input_email_empresa" />
              <div id="div_validacao_email_empresa"></div>

              <p>Telefone: *</p>
              <input type="text" id="input_telefone_empresa" />

            </div>

            <div class="formulario">

              <h3>Informações do Administrador</h3>

              <p>Nome completo: *</p>
              <input type="text" id="input_nome_usuario" />

              <p>Data de nascimento: *</p>
              <input placeholder="dd/mm/yyyy" type="text" id="input_data_nascimento" />

              <div class="documento">
                <div class="num_documento">
                  <p>Documento: *</p>
                  <input type="text" id="input_documento" />
                </div>

                <div class="tipo_documento">
                  <p>Tipo do documento: *</p>
                  <select id="select_tipo_documento">
                    <option value="">-----------</option>
                    <option value="cpf">CPF</option>
                    <option value="passaporte">Passaporte</option>
                  </select>
                </div>
              </div>

              <p>Email: *</p>
              <input type="email" id="input_email_usuario" />
              <div id="div_validacao_email_usuario"></div>

              <p>Telefone:</p>
              <input placeholder="(XX)XXXXX-XXXX" type="text" id="input_telefone_usuario" />

              <p>Login: *</p>
              <input type="text" id="input_login_usuario" />

              <p>Senha: *</p>
              <input id="input_senha" type="password" />

              <p>Confirmar a senha: *</p>
              <input id="input_confirmacaoSenha" type="password" />
              <div id="div_validacao_senha">
              </div>

            </div>
          </div>

          <div class="login">
            <h3><a id="entrar" href="login.html">Entrar</a></h3>
            <button onclick="validarCampos()" id="button_cadastrar">Cadastrar</button>
          </div>

        </div>
      </div>
    </div>
  </div>

  <div class="footer">
    <div class="footer2">
      <div class="container">
        <p>
          Copyright © 2023 - 2023 Vaccinfo. Todos os direitos reservados. |
          <a href="">Termos de uso</a> |
          <a href="">Política de privacidade</a> |
          <a href="">Definições de cookies</a> | <a href="">Mapa do site</a>
        </p>
      </div>
    </div>
  </div>
</body>

</html>

<script>

  function validarCampos() {

    // dados da empresa
    var nomeEmpresa = input_nome_empresa.value;
    var cnpj = input_cnpj.value;
    var emailEmpresa = input_email_empresa.value
    var telefoneEmpresa = input_telefone_empresa.value;

    // dados do usuario
    var nomeUsuario = input_nome_usuario.value;
    var dataNascimento = input_data_nascimento.value;
    var documento = input_documento.value;
    var tipoDocumento = select_tipo_documento.value;
    var emailUsuario = input_email_usuario.value;
    var telefoneUsuario = input_telefone_usuario.value;
    var loginUsuario = input_login_usuario.value;
    var senha = input_senha.value;
    var confirmacaoSenha = input_confirmacaoSenha.value;

    // validações
    var camposEmpresaPreenchidos = nomeEmpresa != "" && cnpj != "" && emailEmpresa != "" && telefoneEmpresa != "";
    var camposUsuarioPreenchidos = nomeUsuario != "" && dataNascimento != "" && documento != "" && tipoDocumento != ""
      && emailUsuario != "" && loginUsuario != "" && senha != "" && confirmacaoSenha != "";  

    var emailEmpresaValidado = (emailEmpresa.indexOf("@") != -1) && (emailEmpresa.indexOf(".") != -1);
    var emailUsuarioValidado = (emailUsuario.indexOf("@") != -1) && (emailUsuario.indexOf(".") != -1);

    var confirmacaoSenhaValidada = senha == confirmacaoSenha;
    var senhaForteValidada = senha.lenght >= 8 &&
      (senha.indexOf("!") != -1 ||
        senha.indexOf("@") != -1 ||
        senha.indexOf("#") != -1 ||
        senha.indexOf("$") != -1 ||
        senha.indexOf("%") != -1 ||
        senha.indexOf("&") != -1 ||
        senha.indexOf("|") != 1 ||
        senha.indexOf("*") != 1 ||
        senha.indexOf("_") != 1);

      div_validacao_email_empresa.innerHTML = "";
      div_validacao_email_usuario.innerHTML = "";
      div_validacao_senha.innerHTML = "";


    if (!camposEmpresaPreenchidos || !camposUsuarioPreenchidos) {

      alert("Por favor, preencha todos os campos obrigatórios")

    } else {
      if (!emailEmpresaValidado) {

        div_validacao_email_empresa.innerHTML = `
        <p style="color: rgb(248, 46, 46); font-size: 0.9rem;">Insira um email válido</p>
        `;
      
      } else if (!emailUsuarioValidado) {

        div_validacao_email_usuario.innerHTML = `
        <p style="color: rgb(248, 46, 46); font-size: 0.9rem;">Insira um email válido</p>
        `;

      } else {
        if (!confirmacaoSenhaValidada) {

          div_validacao_senha.innerHTML = `
            <p style="color: rgb(248, 46, 46); font-size: 0.9rem;">Insira o mesmo valor nos dois campos de senha</p>
            `;

        } else {

          if (!senhaForteValidada) {

            div_validacao_senha.innerHTML = `
            <p style="color: rgb(248, 46, 46); font-size: 0.9rem;">Sua senha deve ter no mínimo 8 caracteres, e algum caractere especial (! * @ # $ % & | _)</p>
            `;

          } else {

          }
        }


      }
    }

  }

</script>